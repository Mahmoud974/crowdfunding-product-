<dialog id="my_modal_3" class="modal">
  <div class="modal-box">
    <form method="dialog">
      <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
    </form>
   <section class="mx-auto container flex flex-col justify-center px-4 max-w-lg">
  <!-- Header Section -->
  <div class="text-left mb-8">
    <h2 class="font-bold text-2xl"  >Back this project</h2>
    <p class="text-sm text-gray-600 mt-2">Want to support us in bringing Mastercraft Bamboo Monitor Riser out in the world?</p>
  </div>
 

  <!-- Form Section -->
  <form #donationForm="ngForm" (ngSubmit)="onSubmit(donationForm)" action="" class="max-w-lg mx-auto space-y-5">
    @for(item of pledgeOptions; track item) {
      <div class="border border-gray-200 rounded-xl py-5 shadow-md">
        <div class="px-6 ">
          <div class="flex items-center justify-between mb-4">
            <!-- Left Section: Radio Button and Title -->
            <div class="flex items-center">
              <input 
                (click)="onRadioChange(item.id)" 
                class="mr-2 cursor-pointer" 
                type="radio" 
                id="amount" 
                name="amount" 
                required 
                min="0" 
                max="10000" 
                step="100" 
              />
              <label id="item-1" for="amount" class="cursor-pointer font-bold text-lg">{{item.title}}</label>
              <p class="text-xs text-[#3ed8b0] font-medium ml-2">{{item.pledge}}</p>
            </div>

            @if(item.price !== null) {
              <div class="flex items-center">
                <p class="text-lg font-bold">{{ item.price }}</p>
                <span class="text-gray-400 text-sm font-medium ml-1">left</span>
              </div>
            }
          </div>
          
          <p class="text-sm text-gray-600">{{item.description}}</p>
        </div>

        <!-- Button doit être active quand je clique sur input -->
        @if(selectedAmount === item.id) {
          <hr class="my-4 border-t-1 border-gray-300" />
          <div class="px-6">
            <div class="flex justify-between items-center gap-3">
              <p class="text-sm">Enter your pledge</p>
              
            <div class="flex gap-3">
                  <!-- Input Section -->
              <div class="flex items-center gap-1">
                <div class="flex items-center border border-gray-300 rounded-full">
                  <span class="p-1 text-gray-700">$</span>
                 <input 
                  type="number"
                  [(ngModel)]="numberInput" 
                  [min]="item.amountPlans"
                  [value]="item.amountPlans"
                  max="10000"
                  class="p-3 border-0 rounded-full"
                  required
                  name="amountInput"
                />
                </div>
              </div>

              <!-- Continue Button -->
              <button 
              (click)="onClickContinue()"
                type="submit" 
                class="bg-[#3ed8b0] text-white p-3 rounded-full font-semibold"
              >
                Continue
              </button>
            </div>
            </div>
          </div>
        }
      </div>
    }
 
    
  </form>
</section>


  </div>
</dialog>
